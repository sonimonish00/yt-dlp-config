# --- Format Selection ---
-f bestvideo[height<=2160]+bestaudio/bestvideo[height<=1080][ext=mp4]+bestaudio[ext=m4a]/best[height<=1080][ext=mp4]

# Always merge into MP4
--merge-output-format mp4

# --- Fix YouTube extractor ---
# --extractor-args
# youtube:player_client=default,-tv

# --- Output Settings ---
-o "C:/Users/sonim/Downloads/%(title)s.%(ext)s"

# --- Speed Optimizations ---
--downloader aria2c
--downloader-args "aria2c:-x 16 -k 5M -s 16 -j 16 -m 0"
-N 8
--http-chunk-size 10M

# --- Authentication via cookies ---
# First try Firefox, if not available, fall back to Chrome
--cookies-from-browser firefox